<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Content Loading...</title>
    
    <!-- ‚úÖ Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&family=Hind+Siliguri:wght@400;600&display=swap" rel="stylesheet">
    
    <!-- üî• MONETAG TAG -->
    <script src="https://quge5.com/88/tag.min.js" data-zone="190384" async data-cfasync="false"></script>
    
    <style>
        body { font-family: 'Hind Siliguri', 'Roboto', sans-serif; overflow-x: hidden; -webkit-tap-highlight-color: transparent; }
        
        /* ‚ú® Animations */
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .pulse-btn { animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(var(--btn-rgb), 0.7); } 70% { box-shadow: 0 0 0 15px rgba(var(--btn-rgb), 0); } 100% { box-shadow: 0 0 0 0 rgba(var(--btn-rgb), 0); } }

        /* Modern Bottom Sheet Design */
        .bottom-sheet {
            background: rgba(20, 20, 20, 0.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px 20px 0 0;
            box-shadow: 0 -10px 40px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body id="body-main" class="bg-gray-900 text-white min-h-screen">

    <!-- App View -->
    <div id="app-view" class="w-full max-w-md mx-auto min-h-screen relative overflow-hidden bg-black">
        <!-- Dynamic Content Area -->
        <div id="content-area" class="w-full h-full absolute inset-0 z-0"></div>
        
        <!-- Overlay for Contrast -->
        <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-black/40 z-10 pointer-events-none"></div>

        <!-- üëá MAIN INTERACTION AREA (FIXED BOTTOM) -->
        <div id="interaction-area" class="absolute bottom-0 w-full z-20 p-5 fade-in bottom-sheet">
            <!-- Dynamic Text will be injected here -->
            <div id="dynamic-info" class="text-center mb-4"></div>
            
            <!-- Progress Bar -->
            <div class="w-full bg-gray-700 h-2 rounded-full mb-4 overflow-hidden relative">
                <div id="progress-bar" class="h-full bg-white w-0 transition-all duration-300"></div>
            </div>

            <!-- Main Button -->
            <button id="cta-btn" class="w-full font-bold py-4 rounded-xl text-lg shadow-xl opacity-80 cursor-not-allowed transition-all transform active:scale-95 flex items-center justify-center gap-2" disabled>
                <i class="fas fa-circle-notch fa-spin"></i> Loading...
            </button>
            
            <p class="text-[10px] text-gray-500 text-center mt-3"><i class="fas fa-shield-alt"></i> Secure Verification ‚Ä¢ Verified by Google</p>
        </div>
    </div>

    <!-- Logic -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
        import { getFirestore, doc, setDoc, increment, serverTimestamp, collection, query, where, getDocs } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js";

        // ‚öôÔ∏è CONFIG
        const CONFIG = {
            MONETAG_LINK: "https://otieu.com/4/10277714",
            SAFE_PAGE: "https://www.google.com",
            FIREBASE: { apiKey: "AIzaSyCU2RfLeclEyyxzEActtl5ks1P_NPvATOE", projectId: "ns-prime-d7ca5" }
        };

        let db; try { const app = initializeApp(CONFIG.FIREBASE); db = getFirestore(app); } catch(e){}

        const params = new URLSearchParams(window.location.search);
        const refCode = params.get('ref'); 
        const type = params.get('type') || 'video';
        let isSafeUser = true;

        // ==========================================
        // üé® VISUAL-FIRST THEMES (‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá)
        // ==========================================
        const themes = {
            // üé¨ VIDEO (Thumbnail is HUGE)
            video: {
                color: "220, 38, 38", // Red
                html: `
                    <div class="w-full h-full relative">
                        <img src="https://images.unsplash.com/photo-1611162617474-5b21e879e113?q=80&w=1000" class="w-full h-full object-cover opacity-60">
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="w-20 h-20 bg-red-600 rounded-full flex items-center justify-center shadow-[0_0_50px_red] animate-pulse">
                                <i class="fas fa-play text-4xl text-white ml-2"></i>
                            </div>
                        </div>
                        <div class="absolute top-4 left-4 right-4 flex justify-between">
                            <span class="bg-red-600 px-2 py-1 rounded text-xs font-bold">LIVE LEAK</span>
                            <span class="bg-black/50 px-2 py-1 rounded text-xs"><i class="fas fa-eye"></i> 2.4M</span>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-xl font-bold text-white mb-1">Viral_Video_2025.mp4</h2><p class="text-gray-400 text-sm">Age verification required to watch.</p>`
            },
            
            // üçë ADULT / BHABI (Blurry bg)
            bhabi: {
                color: "236, 72, 153", // Pink
                html: `
                    <div class="w-full h-full relative">
                        <img src="https://images.unsplash.com/photo-1623949556801-6e3e5c942944?q=80&w=1000" class="w-full h-full object-cover blur-sm scale-110 opacity-70">
                        <div class="absolute inset-0 flex flex-col items-center justify-center">
                            <i class="fas fa-lock text-6xl text-pink-500 mb-4 drop-shadow-lg"></i>
                            <div class="bg-black/50 px-4 py-2 rounded-full border border-pink-500/50 backdrop-blur">
                                <span class="text-pink-400 font-bold tracking-widest">PRIVATE CONTENT</span>
                            </div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-xl font-bold text-white mb-1">Desi Bhabi Viral Video</h2><p class="text-pink-400 text-sm font-bold">‚ö† 18+ Only. Confirm your age.</p>`
            },

            // üéµ TIKTOK (UI Overlay)
            tiktok: {
                color: "254, 44, 85", // TikTok Red
                html: `
                    <div class="w-full h-full relative bg-gray-900">
                        <img src="https://images.unsplash.com/photo-1611605698335-8b1569810432?q=80&w=1000" class="w-full h-full object-cover opacity-50">
                        <!-- Fake UI -->
                        <div class="absolute right-4 bottom-40 flex flex-col gap-6 items-center">
                            <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center"><i class="fas fa-plus text-black"></i></div>
                            <i class="fas fa-heart text-3xl text-white drop-shadow"></i><span class="text-xs">24K</span>
                            <i class="fas fa-comment-dots text-3xl text-white drop-shadow"></i><span class="text-xs">502</span>
                            <i class="fas fa-share text-3xl text-white drop-shadow"></i><span class="text-xs">Share</span>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">@angel_priya_official</h2><p class="text-gray-400 text-xs">Video restricted. Verify to remove blur.</p>`
            },

            // üí¨ WHATSAPP (Chat Background)
            whatsapp: {
                color: "34, 197, 94", // Green
                html: `
                    <div class="w-full h-full bg-[#0b141a] relative">
                         <div class="bg-[#202c33] p-4 flex items-center gap-3 shadow-md z-10 relative">
                            <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=1000" class="w-10 h-10 rounded-full">
                            <div><h3 class="text-white font-bold text-sm">Sumaiya ‚ù§Ô∏è</h3><span class="text-[#00a884] text-xs">Typing...</span></div>
                        </div>
                        <div class="p-4 space-y-4 bg-[url('https://i.pinimg.com/originals/97/c0/07/97c00727d1d403f1d58f14232f21879e.png')] opacity-30 h-full absolute top-0 w-full"></div>
                        
                        <!-- Fake Messages -->
                        <div class="absolute top-20 left-0 w-full p-4 space-y-3 z-0">
                            <div class="bg-[#202c33] p-3 rounded-r-xl rounded-bl-xl w-fit text-sm">Hi Jan! üòç</div>
                            <div class="bg-[#202c33] p-3 rounded-r-xl rounded-bl-xl w-fit text-sm">Video ta dilam, dekho üëá</div>
                            <div class="bg-[#202c33] p-2 rounded-xl w-48 relative overflow-hidden border border-green-500/30">
                                <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?q=80&w=1000" class="w-full h-32 object-cover blur-sm">
                                <div class="absolute inset-0 flex items-center justify-center"><i class="fas fa-play-circle text-4xl text-white"></i></div>
                            </div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">Incoming Media File</h2><p class="text-green-400 text-sm">Accept connection to view.</p>`
            },

            // üíé FREEFIRE (Diamonds Background)
            freefire: {
                color: "234, 179, 8", // Gold
                html: `
                    <div class="w-full h-full relative bg-black">
                        <img src="https://wallpapers.com/images/hd/garena-free-fire-4k-gaming-poster-c7g4q0y0y0y0y0y0.jpg" class="w-full h-full object-cover opacity-40">
                        <div class="absolute inset-0 flex flex-col items-center justify-center pt-10">
                            <img src="https://cdn-icons-png.flaticon.com/512/2666/2666505.png" class="w-24 mb-4 animate-bounce drop-shadow-[0_0_20px_gold]">
                            <h1 class="text-5xl font-black text-white italic drop-shadow-md">5000 <span class="text-yellow-500">DIAMONDS</span></h1>
                            <div class="bg-black/60 px-4 py-1 rounded mt-2 border border-yellow-500/50">
                                <span class="text-yellow-400 text-xs font-mono">UID: 28**91 SELECTED</span>
                            </div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-xl font-bold text-yellow-500 mb-1">CONGRATULATIONS!</h2><p class="text-gray-300 text-sm">Complete verification to claim diamonds.</p>`
            },

            // üìû LIVE CALL
            live: {
                color: "34, 197, 94",
                html: `
                    <div class="w-full h-full relative bg-gray-900">
                        <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=1000" class="w-full h-full object-cover opacity-40 blur-sm">
                        <div class="absolute inset-0 flex flex-col items-center pt-20">
                            <div class="w-32 h-32 rounded-full border-4 border-green-500 p-1 shadow-[0_0_40px_lime] relative">
                                <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=1000" class="w-full h-full rounded-full object-cover">
                            </div>
                            <h2 class="text-3xl font-bold text-white mt-4">Priya Akter</h2>
                            <p class="text-green-400 animate-pulse font-bold tracking-widest text-sm mt-2">INCOMING VIDEO CALL...</p>
                        </div>
                    </div>
                `,
                info: `<div class="flex justify-around w-full px-10"><div class="w-12 h-12 bg-red-600 rounded-full flex items-center justify-center"><i class="fas fa-phone-slash"></i></div><div class="w-12 h-12 bg-green-600 rounded-full flex items-center justify-center animate-bounce"><i class="fas fa-video"></i></div></div><p class="mt-4 text-xs text-gray-400">Server Connection Required</p>`
            },

            // üíº JOB / GOVT (Clean White/Green)
            job: {
                color: "5, 150, 105", // Emerald
                html: `
                    <div class="w-full h-full bg-slate-100 relative p-6 pt-20">
                        <div class="absolute top-0 left-0 w-full bg-[#006a4e] h-40 rounded-b-[3rem] shadow-lg z-0"></div>
                        <div class="relative z-10 bg-white p-6 rounded-2xl shadow-xl text-center border-t-4 border-[#006a4e]">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Government_Seal_of_Bangladesh.svg/1200px-Government_Seal_of_Bangladesh.svg.png" class="w-16 mx-auto mb-4">
                            <h2 class="text-xl font-bold text-gray-800">‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶Ö‡¶ß‡¶ø‡¶¶‡¶™‡ßç‡¶§‡¶∞</h2>
                            <p class="text-gray-500 text-xs mb-6">‡¶®‡¶ø‡ßü‡ßã‡¶ó ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶™‡ßç‡¶§‡¶ø ‡ß®‡ß¶‡ß®‡ß´</p>
                            
                            <div class="flex items-center gap-3 bg-gray-50 p-3 rounded border border-gray-200 text-left">
                                <i class="fas fa-file-pdf text-red-600 text-3xl"></i>
                                <div>
                                    <h3 class="font-bold text-gray-800 text-sm">Circular_Final_2025.pdf</h3>
                                    <p class="text-xs text-gray-500">2.4 MB ‚Ä¢ Ready to Download</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">Download Circular</h2><p class="text-gray-400 text-xs">Verify you are human to start download.</p>`
            },
            
            // üí∞ MONEY / BKASH
            money: {
                color: "226, 19, 110", // bKash Pink
                html: `
                    <div class="w-full h-full bg-[#e2136e] relative flex items-center justify-center p-6">
                        <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"></div>
                        <div class="bg-white w-full rounded-2xl p-8 text-center shadow-2xl z-10 relative">
                             <img src="https://freelogopng.com/images/all_img/1656234745bkash-app-logo-png.png" class="h-10 mx-auto mb-4">
                             <h1 class="text-5xl font-bold text-gray-800 tracking-tighter mb-1">‡ß≥‡ß´‡ß¶‡ß¶</h1>
                             <p class="text-gray-400 text-sm">Cashback Ready</p>
                             <div class="mt-6 border-t pt-4">
                                <div class="flex justify-between text-sm text-gray-600 mb-2"><span>Wallet:</span> <span class="font-bold">017****291</span></div>
                                <div class="flex justify-between text-sm text-gray-600"><span>Status:</span> <span class="text-green-500 font-bold">Pending</span></div>
                             </div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">Confirm Transfer</h2><p class="text-white/70 text-xs">Complete 1-step verification to receive money.</p>`
            },

             // üèè CRICKET
            cricket: {
                color: "34, 197, 94",
                html: `
                    <div class="w-full h-full bg-blue-900 relative">
                        <div class="bg-blue-800 p-4 shadow flex justify-between items-center text-white z-20 relative">
                            <div><span class="font-bold">BAN</span> 142/3</div>
                            <div class="text-red-500 text-xs font-bold animate-pulse">‚óè LIVE</div>
                            <div><span class="font-bold opacity-70">IND</span> --</div>
                        </div>
                        <img src="https://images.unsplash.com/photo-1531415074968-036ba1b575da?q=80&w=1000" class="w-full h-full object-cover opacity-60 absolute top-0 left-0">
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="bg-black/80 p-4 rounded-lg text-center backdrop-blur">
                                <i class="fas fa-exclamation-triangle text-yellow-500 text-3xl mb-2"></i>
                                <h3 class="text-white font-bold">Stream Paused</h3>
                                <p class="text-gray-400 text-xs">High Traffic detected.</p>
                            </div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">Resume HD Stream</h2><p class="text-gray-400 text-xs">Verify your network to continue watching.</p>`
            },
            // üéÆ 11. PUBG (Full Screen Character)
            pubg: {
                color: "249, 115, 22", // Orange
                html: `
                    <div class="w-full h-full relative bg-black">
                        <img src="https://wallpapers.com/images/hd/pubg-mobile-4k-phones-cl7615615.jpg" class="w-full h-full object-cover opacity-60">
                        <div class="absolute inset-0 flex flex-col items-center justify-center mt-20">
                             <h1 class="text-4xl font-black text-white italic drop-shadow-[0_4px_4px_rgba(0,0,0,0.8)]">ROYAL PASS</h1>
                             <div class="flex items-center gap-2 mt-2 bg-black/60 px-4 py-2 rounded border border-orange-500">
                                <img src="https://upload.wikimedia.org/wikipedia/en/thumb/1/1b/PUBG_Mobile_Logo.png/220px-PUBG_Mobile_Logo.png" class="h-6">
                                <span class="text-orange-400 font-bold">660 UC FREE</span>
                             </div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-xl font-bold text-orange-500 mb-1">Claim UC Reward</h2><p class="text-gray-300 text-sm">Enter ID & Verify to receive UC.</p>`
            },

            // üì∂ 12. WIFI HACKER (Hacker Terminal UI)
            wifi: {
                color: "34, 197, 94", // Green
                html: `
                    <div class="w-full h-full bg-black font-mono p-6 pt-20 relative overflow-hidden">
                        <div class="absolute inset-0 opacity-20 bg-[url('https://media.istockphoto.com/id/539247656/photo/hacker-code-green-digits.jpg?s=612x612&w=0&k=20&c=6C2x7l2r_s-iW7uL4Q7jL_7z9q_8v_1_6_5_4_3_2.jpg')] bg-cover"></div>
                        <div class="relative z-10 space-y-2 text-xs text-green-500">
                            <p>> Scanning frequency 2.4GHz...</p>
                            <p>> Target Found: <span class="text-white font-bold bg-green-900 px-1">TP-Link_Home_5G</span></p>
                            <p>> Signal Strength: 98%</p>
                            <p>> Brute-forcing handshake...</p>
                            <p class="animate-pulse">> PASSWORD FOUND: *********</p>
                        </div>
                        <i class="fas fa-unlock-alt text-6xl text-green-500 absolute bottom-40 right-10 opacity-50"></i>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">Password Decrypted</h2><p class="text-green-400 text-xs">Verify human identity to reveal password.</p>`
            },

            // üé¨ 13. MOVIE (Netflix Style)
            movie: {
                color: "220, 38, 38", // Red
                html: `
                    <div class="w-full h-full relative bg-black">
                        <img src="https://images.unsplash.com/photo-1626814026160-2237a95fc5a0?q=80&w=1000" class="w-full h-full object-cover opacity-60">
                        <div class="absolute bottom-40 left-0 w-full p-6 bg-gradient-to-t from-black via-transparent to-transparent">
                            <div class="flex gap-2 mb-2">
                                <span class="bg-red-600 text-white text-[10px] font-bold px-1 rounded">TOP 10</span>
                                <span class="text-green-500 text-xs font-bold">98% Match</span>
                            </div>
                            <h1 class="text-4xl font-black text-white mb-2">JAWAN: PART 2</h1>
                            <div class="flex gap-4 text-xs text-gray-300">
                                <span>2025</span>
                                <span class="border border-gray-500 px-1 rounded text-[10px]">HD</span>
                                <span>Action</span>
                            </div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">Resume Movie</h2><p class="text-gray-400 text-xs">Complete verification to watch in 4K.</p>`
            },

            // üíò 14. DATING (Tinder Style)
            dating: {
                color: "254, 60, 114", // Pink
                html: `
                    <div class="w-full h-full relative bg-gray-900">
                        <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?q=80&w=1000" class="w-full h-full object-cover">
                        <div class="absolute bottom-40 left-0 w-full p-6 text-white bg-gradient-to-t from-black/80 to-transparent">
                            <h2 class="text-3xl font-bold flex items-center gap-2">Riya <span class="text-xl font-normal">21</span></h2>
                            <div class="flex items-center gap-2 text-sm mt-1">
                                <div class="w-2 h-2 bg-green-500 rounded-full"></div> 2 km away
                            </div>
                        </div>
                        <div class="absolute top-1/2 right-4 w-14 h-14 bg-white rounded-full flex items-center justify-center shadow-lg animate-bounce text-green-500 text-2xl">
                            <i class="fas fa-heart"></i>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-pink-500 mb-1">It's a Match!</h2><p class="text-white text-xs">Verify your profile to send a message.</p>`
            },

            // üè¶ 15. LOAN (Bank App Style)
            loan: {
                color: "37, 99, 235", // Blue
                html: `
                    <div class="w-full h-full bg-slate-50 relative p-6 pt-20">
                        <div class="bg-blue-600 text-white p-6 rounded-2xl shadow-xl text-center relative overflow-hidden mb-6">
                            <div class="absolute top-0 right-0 p-2"><i class="fas fa-university opacity-20 text-4xl"></i></div>
                            <p class="text-sm opacity-80 mb-1">Pre-Approved Limit</p>
                            <h1 class="text-4xl font-bold">‡ß≥ ‡ß´‡ß¶,‡ß¶‡ß¶‡ß¶</h1>
                            <div class="mt-4 bg-white/20 px-2 py-1 rounded inline-block text-xs">Interest: 0%</div>
                        </div>
                        <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center gap-3">
                            <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center text-green-600"><i class="fas fa-check"></i></div>
                            <div>
                                <h3 class="font-bold text-gray-800 text-sm">Eligibility Check</h3>
                                <p class="text-xs text-green-600 font-bold">Passed</p>
                            </div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-gray-800 mb-1">Disburse Loan</h2><p class="text-gray-500 text-xs">Verify NID to receive cash instantly.</p>`
            },

            // ‚úàÔ∏è 16. TELEGRAM (Channel Preview)
            telegram: {
                color: "64, 167, 227", // Telegram Blue
                html: `
                    <div class="w-full h-full bg-[#17212b] relative flex flex-col items-center justify-center p-6">
                        <div class="w-24 h-24 bg-[#0088cc] rounded-full flex items-center justify-center text-white text-4xl mb-4 shadow-lg">
                            <i class="fas fa-paper-plane"></i>
                        </div>
                        <h1 class="text-white font-bold text-xl">Viral Leaked Zone 18+</h1>
                        <p class="text-gray-400 text-sm mb-6">524,012 subscribers</p>
                        <div class="bg-[#242f3d] p-4 rounded-lg w-full text-center border border-gray-700">
                             <p class="text-red-400 text-xs font-bold uppercase mb-2">‚ö† Channel Content</p>
                             <div class="flex justify-center gap-2">
                                <div class="w-16 h-20 bg-gray-700 rounded blur-sm"></div>
                                <div class="w-16 h-20 bg-gray-700 rounded blur-sm"></div>
                                <div class="w-16 h-20 bg-gray-700 rounded blur-sm"></div>
                             </div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">Join Private Channel</h2><p class="text-blue-300 text-xs">Verify age to access restricted content.</p>`
            },

            // üì± 17. IPHONE (Product Shot)
            iphone: {
                color: "255, 255, 255", // White
                html: `
                    <div class="w-full h-full bg-black relative flex flex-col items-center justify-center p-6">
                        <h1 class="text-3xl font-bold text-white mb-4">iPhone 15 Pro</h1>
                        <img src="https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-15-pro-finish-select-202309-6-7inch-naturaltitanium?wid=5120&hei=2880&fmt=p-jpg" class="w-full max-w-xs object-contain drop-shadow-[0_0_40px_rgba(255,255,255,0.2)]">
                        <div class="bg-green-500 text-black text-xs font-bold px-3 py-1 rounded-full mt-4 animate-bounce">
                            WINNER SELECTED!
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">Confirm Shipment</h2><p class="text-gray-400 text-xs">Verify address to receive your prize.</p>`
            },

            // üé∞ 18. SPIN WHEEL (Casino)
            spin: {
                color: "234, 179, 8", // Gold
                html: `
                    <div class="w-full h-full bg-indigo-900 relative flex flex-col items-center justify-center overflow-hidden">
                        <div class="absolute inset-0 bg-[url('https://cdn.pixabay.com/photo/2017/08/30/01/05/milky-way-2695569_960_720.jpg')] opacity-30"></div>
                        <h1 class="text-yellow-400 font-bold text-3xl mb-8 animate-bounce relative z-10">JACKPOT!</h1>
                        <div class="relative w-72 h-72 z-10">
                             <img src="https://png.pngtree.com/png-vector/20240726/ourmid/pngtree-colorful-lucky-wheel-clipart-design-png-image_13233857.png" class="w-full h-full object-contain animate-spin" style="animation-duration: 3s;">
                             <div class="absolute top-0 left-1/2 -translate-x-1/2 -mt-2 text-3xl text-red-500">‚ñº</div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-yellow-400 mb-1">You won a Prize!</h2><p class="text-white text-xs">Verify to claim your spin reward.</p>`
            },

            // üì∞ 19. BREAKING NEWS (Blurred Image)
            news: {
                color: "185, 28, 28", // Red
                html: `
                    <div class="w-full h-full bg-gray-100 relative">
                        <div class="bg-red-700 text-white p-3 font-bold uppercase tracking-widest text-sm shadow sticky top-0 z-10 flex justify-between">
                            <span>Breaking News</span> <span class="animate-pulse">‚óè LIVE</span>
                        </div>
                        <div class="p-4">
                            <h1 class="text-2xl font-bold text-gray-900 leading-tight mb-4">CCTV Footage Leaked: Popular Actress Caught in Scandal</h1>
                            <div class="relative w-full aspect-video bg-black rounded-lg overflow-hidden shadow-lg">
                                <img src="https://images.unsplash.com/photo-1504711434969-e33886168f5c?q=80&w=1000" class="w-full h-full object-cover blur-sm">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <i class="fas fa-play-circle text-5xl text-white opacity-80"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">Watch Full Video</h2><p class="text-gray-400 text-xs">Verify age to view sensitive content.</p>`
            },

            // üì± 20. MOD APK (Download UI)
            apk: {
                color: "34, 197, 94", // Green
                html: `
                    <div class="w-full h-full bg-[#202124] relative flex flex-col items-center justify-center p-6">
                        <div class="w-24 h-24 bg-green-500 rounded-2xl flex items-center justify-center text-5xl text-white shadow-xl mb-6">
                            <i class="fab fa-android"></i>
                        </div>
                        <h1 class="text-2xl font-bold text-white">Kinemaster Pro</h1>
                        <p class="text-green-400 text-sm mb-8">Mod Unlocked ‚Ä¢ No Watermark</p>
                        <div class="bg-[#303134] w-full p-4 rounded-lg flex justify-between text-sm text-gray-300">
                            <span>Size: 98 MB</span>
                            <span class="text-green-400"><i class="fas fa-shield-alt"></i> Safe</span>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">Start Download</h2><p class="text-gray-400 text-xs">Verify you are not a robot.</p>`
            },

            // ü™ô 21. CRYPTO (Graph & Coin)
            crypto: {
                color: "234, 179, 8",
                html: `
                    <div class="w-full h-full bg-[#0f172a] relative flex flex-col items-center justify-center p-6">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Bitcoin.svg/1200px-Bitcoin.svg.png" class="w-32 mb-8 animate-bounce">
                        <h1 class="text-3xl font-bold text-white">Binance Airdrop</h1>
                        <div class="w-full h-32 mt-6 relative">
                             <!-- Fake Graph Line -->
                             <svg viewBox="0 0 500 150" class="w-full h-full stroke-green-500 stroke-2 fill-none"><path d="M0,100 C150,200 350,0 500,100" /></svg>
                             <div class="absolute top-0 right-0 text-green-500 font-bold">+15.4%</div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">Claim 0.005 BTC</h2><p class="text-gray-400 text-xs">Verify wallet ownership to claim.</p>`
            },

            // üéÅ 22. GIFT CARD (Code Reveal)
            giftcard: {
                color: "37, 99, 235",
                html: `
                    <div class="w-full h-full bg-white relative flex flex-col items-center justify-center p-6">
                         <div class="bg-gradient-to-r from-blue-500 to-cyan-400 p-6 rounded-xl text-white text-center shadow-xl w-full max-w-xs h-48 flex flex-col justify-center relative">
                            <i class="fab fa-google-play text-4xl mb-2"></i>
                            <p class="font-bold text-2xl">$50 Gift Card</p>
                            <div class="bg-white text-black p-2 mt-4 rounded font-mono tracking-widest text-sm relative overflow-hidden">
                                XXXX-XXXX-W892
                                <div class="absolute inset-0 bg-gray-300 flex items-center justify-center text-xs text-gray-600 font-sans">
                                    <i class="fas fa-lock mr-1"></i> HIDDEN
                                </div>
                            </div>
                         </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-gray-800 mb-1">Reveal Full Code</h2><p class="text-gray-500 text-xs">Human verification required to unmask.</p>`
            },

            // üì∑ 23. INSTAGRAM (Follower Count)
            instagram: {
                color: "217, 70, 239", // Fuchsia
                html: `
                    <div class="w-full h-full bg-black relative flex flex-col items-center justify-center p-6">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Instagram_logo_2016.svg/2048px-Instagram_logo_2016.svg.png" class="w-20 mb-6">
                        <div class="bg-[#121212] border border-gray-800 p-6 rounded-2xl w-full text-center">
                            <div class="w-16 h-16 bg-gradient-to-tr from-yellow-400 to-purple-600 p-[2px] rounded-full mx-auto mb-2">
                                <div class="bg-black w-full h-full rounded-full flex items-center justify-center"><i class="fas fa-user text-gray-400"></i></div>
                            </div>
                            <h2 class="text-white font-bold text-xl">1000 Followers</h2>
                            <p class="text-gray-400 text-xs mt-1">Status: <span class="text-green-500">Ready to Send</span></p>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">Send Followers</h2><p class="text-gray-400 text-xs">Verify username to start transfer.</p>`
            },

            // üå™Ô∏è 24. WEATHER (Map)
            weather: {
                color: "185, 28, 28",
                html: `
                    <div class="w-full h-full bg-red-50 relative p-6 pt-20">
                         <div class="absolute top-0 left-0 w-full bg-red-600 p-4 text-white flex items-center gap-3 shadow-lg z-10">
                            <i class="fas fa-radiation text-3xl animate-spin"></i>
                            <h1 class="font-bold uppercase tracking-widest">Red Alert</h1>
                         </div>
                         <div class="relative w-full aspect-square bg-gray-300 rounded-lg overflow-hidden border-2 border-red-500">
                             <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f2/Bangladesh_location_map.svg/1200px-Bangladesh_location_map.svg.png" class="w-full h-full object-cover opacity-60">
                             <div class="absolute inset-0 bg-red-500/20"></div>
                             <div class="absolute top-1/2 left-1/2 w-20 h-20 bg-red-600 rounded-full blur-xl opacity-60 animate-ping -translate-x-1/2 -translate-y-1/2"></div>
                         </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-red-700 mb-1">View Satellite Map</h2><p class="text-gray-500 text-xs">Verify location to see cyclone path.</p>`
            },

            // ü§ñ 25. AI (ChatGPT Interface)
            ai: {
                color: "16, 163, 127", // Teal
                html: `
                    <div class="w-full h-full bg-[#343541] relative p-4 pt-20 flex flex-col">
                        <div class="flex gap-4 p-4 bg-[#444654] rounded-lg mb-4 opacity-50 blur-[1px]">
                             <div class="w-8 h-8 bg-[#10a37f] rounded flex items-center justify-center"><i class="fas fa-robot text-white"></i></div>
                             <div class="flex-1 space-y-2">
                                <div class="h-2 bg-gray-400 rounded w-3/4"></div>
                                <div class="h-2 bg-gray-400 rounded w-full"></div>
                                <div class="h-2 bg-gray-400 rounded w-1/2"></div>
                             </div>
                        </div>
                        <div class="mt-auto text-center text-gray-400 text-xs mb-20">
                            GPT-4 is thinking...
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">View AI Response</h2><p class="text-gray-400 text-xs">High server load. Verify to access.</p>`
            },

            // üéµ 26. MUSIC (Album Art)
            music: {
                color: "34, 197, 94",
                html: `
                    <div class="w-full h-full bg-black relative flex flex-col items-center justify-center p-6">
                        <div class="w-64 h-64 bg-gray-800 shadow-2xl mb-8 relative">
                            <img src="https://images.unsplash.com/photo-1493225255756-d9584f8606e9?q=80&w=1000" class="w-full h-full object-cover opacity-80">
                            <div class="absolute inset-0 flex items-center justify-center"><i class="fas fa-play-circle text-6xl text-white drop-shadow-lg"></i></div>
                        </div>
                        <h1 class="text-xl font-bold text-white mb-1">Leaked_Track.mp3</h1>
                        <p class="text-gray-400 text-sm">Arijit Singh (Unreleased)</p>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">Download MP3</h2><p class="text-gray-400 text-xs">Verify to start high-speed download.</p>`
            },

            // ‚öïÔ∏è 27. HEALTH (Before/After)
            health: {
                color: "37, 99, 235",
                html: `
                    <div class="w-full h-full bg-white relative p-6 flex flex-col items-center justify-center">
                        <h1 class="text-2xl font-black text-gray-800 mb-6 text-center">LOSE 5KG IN 7 DAYS!</h1>
                        <div class="flex w-full gap-2 h-64">
                             <div class="flex-1 bg-gray-100 rounded flex flex-col items-center justify-center relative border"><span class="absolute top-2 left-2 bg-gray-800 text-white text-[10px] px-2 rounded">BEFORE</span><i class="fas fa-user text-6xl text-gray-300"></i></div>
                             <div class="flex-1 bg-green-50 rounded flex flex-col items-center justify-center relative border border-green-200"><span class="absolute top-2 left-2 bg-green-600 text-white text-[10px] px-2 rounded">AFTER</span><i class="fas fa-user text-6xl text-green-400"></i></div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-gray-800 mb-1">Unlock Diet Plan</h2><p class="text-gray-500 text-xs">Verify to see the secret recipe.</p>`
            },

            // üõ°Ô∏è 28. VPN (Security Map)
            vpn: {
                color: "34, 197, 94",
                html: `
                    <div class="w-full h-full bg-[#111827] relative flex flex-col items-center justify-center p-6">
                         <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/World_map_blank_without_borders.svg/2000px-World_map_blank_without_borders.svg.png" class="absolute inset-0 opacity-10 w-full h-full object-cover">
                         <div class="w-24 h-24 bg-red-900/30 rounded-full flex items-center justify-center mb-6 border-4 border-red-600 animate-pulse relative z-10">
                            <i class="fas fa-unlock-alt text-4xl text-red-500"></i>
                        </div>
                        <h1 class="text-3xl font-bold text-red-500 mb-2 relative z-10">IP EXPOSED!</h1>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-white mb-1">Secure Connection</h2><p class="text-gray-400 text-xs">Verify to hide your location from hackers.</p>`
            },

            // üîû 29. STORY (Text Blur)
            story: {
                color: "219, 39, 119", // Pink
                html: `
                    <div class="w-full h-full bg-[#fdf6e3] text-[#5b4636] font-serif p-8 relative">
                         <h1 class="text-2xl font-bold text-[#268bd2] text-center mb-6">‡¶®‡¶ø‡¶∑‡¶ø‡¶¶‡ßç‡¶ß ‡¶∞‡¶æ‡¶§‡ßá‡¶∞ ‡¶ó‡¶≤‡ßç‡¶™</h1>
                         <p class="text-lg leading-relaxed blur-[3px]">
                            ‡¶∏‡ßá‡¶¶‡¶ø‡¶® ‡¶∞‡¶æ‡¶§‡ßá ‡¶¨‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø ‡¶π‡¶ö‡ßç‡¶õ‡¶ø‡¶≤ ‡¶ñ‡ßÅ‡¶¨‡•§ ‡¶Ü‡¶Æ‡¶ø ‡¶ú‡¶æ‡¶®‡¶æ‡¶≤‡¶æ‡¶∞ ‡¶™‡¶æ‡¶∂‡ßá ‡¶¨‡¶∏‡ßá ‡¶õ‡¶ø‡¶≤‡¶æ‡¶Æ, ‡¶π‡¶†‡¶æ‡ßé ‡¶¶‡¶∞‡¶ú‡¶æ‡ßü ‡¶ï‡ßú‡¶æ ‡¶®‡¶æ‡ßú‡¶æ‡¶∞ ‡¶∂‡¶¨‡ßç‡¶¶...
                            ‡¶∏‡ßá ‡¶ò‡¶∞‡ßá ‡¶¢‡ßÅ‡¶ï‡ßá‡¶á ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶ú‡ßú‡¶ø‡ßü‡ßá ‡¶ß‡¶∞‡¶≤‡•§ ‡¶§‡¶æ‡¶∞ ‡¶∂‡¶∞‡ßÄ‡¶∞‡ßá‡¶∞ ‡¶â‡¶∑‡ßç‡¶£‡¶§‡¶æ ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶™‡¶æ‡¶ó‡¶≤ ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶ö‡ßç‡¶õ‡¶ø‡¶≤‡•§
                         </p>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-gray-800 mb-1">Continue Reading</h2><p class="text-pink-600 font-bold text-xs">‚ö† 18+ Only. Verify age.</p>`
            },

            // üéì 30. RESULT (Marksheet)
            result: {
                color: "22, 163, 74", // Green
                html: `
                    <div class="w-full h-full bg-gray-100 relative p-6 flex flex-col items-center justify-center">
                        <div class="bg-white p-6 rounded shadow-lg w-full max-w-xs text-center border-t-4 border-green-600">
                             <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Government_Seal_of_Bangladesh.svg/1200px-Government_Seal_of_Bangladesh.svg.png" class="w-12 mx-auto mb-4">
                             <h2 class="font-bold text-gray-800">HSC RESULT 2025</h2>
                             <div class="my-4 p-2 bg-gray-50 border border-dashed border-gray-300">
                                <p class="text-xs text-gray-500">GPA Status</p>
                                <p class="text-2xl font-bold text-green-600 blur-sm">5.00</p>
                             </div>
                        </div>
                    </div>
                `,
                info: `<h2 class="text-lg font-bold text-gray-800 mb-1">Download Marksheet</h2><p class="text-gray-500 text-xs">Verify Roll No to view result.</p>`
            },

            // DEFAULT FALLBACK
            default: {
                color: "59, 130, 246",
                html: `<div class="w-full h-full bg-gray-800 flex items-center justify-center"><i class="fas fa-shield-alt text-8xl text-gray-700"></i></div>`,
                info: `<h2 class="text-xl font-bold text-white mb-2">Security Check</h2><p class="text-gray-400 text-sm">Please verify to access the link.</p>`
            }
        };

        // ==========================================
        // üöÄ RENDER LOGIC
        // ==========================================
        function renderPage() {
            const t = themes[type] || themes['default'];
            
            // 1. Inject Visual Content (Background)
            document.getElementById('content-area').innerHTML = t.html;
            
            // 2. Inject Bottom Sheet Info
            document.getElementById('dynamic-info').innerHTML = t.info;
            
            // 3. Set Button Color dynamically
            const btn = document.getElementById('cta-btn');
            const bar = document.getElementById('progress-bar');
            
            if(type === 'job' || type === 'money' || type === 'giftcard') {
                // For light themes, text should be readable
                document.getElementById('app-view').classList.remove('bg-black');
            }

            btn.style.backgroundColor = `rgb(${t.color})`;
            btn.style.color = (type === 'freefire' || type === 'spin') ? 'black' : 'white';
            bar.style.backgroundColor = `rgb(${t.color})`;
            
            // 4. Progress Logic (Fake Loading)
            let width = 0;
            const interval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(interval);
                    btn.disabled = false;
                    btn.classList.remove('opacity-80', 'cursor-not-allowed');
                    btn.classList.add('pulse-btn', 'hover:scale-105');
                    btn.innerHTML = `CONTINUE ‚û§`;
                    
                    btn.onclick = async () => {
                        btn.innerHTML = `<i class="fas fa-circle-notch fa-spin"></i> Processing...`;
                        await checkAndRedirect();
                    };
                } else {
                    width += Math.random() * 5; 
                    if(width > 100) width = 100;
                    bar.style.width = width + '%';
                    
                    // Button Text Update
                    if(width < 100) {
                        btn.innerHTML = `Verifying... ${Math.floor(width)}%`;
                    }
                }
            }, 100); // Speed of loading (adjust if needed)
        }

        // ==========================================
        // üîí SECURITY CHECK
        // ==========================================
        async function checkAndRedirect() {
            if (isSafeUser && refCode) {
                 try {
                    const q = query(collection(db, "users"), where("referralCode", "==", refCode));
                    const snap = await getDocs(q);
                    if(!snap.empty) {
                        const uid = snap.docs[0].id;
                        await setDoc(doc(db, "users", uid), {
                            balance: increment(0.50), 
                            todayImpression: increment(1), 
                            totalEarnings: increment(0.50), 
                            lastClickTime: serverTimestamp()
                        }, { merge: true });
                        localStorage.setItem('ns_secure_lock', Date.now());
                    }
                } catch (e) { console.error(e); }
                window.location.href = CONFIG.MONETAG_LINK;
            } else {
                window.location.replace(CONFIG.SAFE_PAGE);
            }
        }

        // Initialize
        renderPage();

    </script>
</body>
</html>
